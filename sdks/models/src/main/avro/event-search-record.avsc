[
  {
    "name": "EventSearchRecord",
    "namespace": "org.gbif.pipelines.io.avro",
    "type": "record",
    "doc": "An AVRO export used to support Spark SQL exports",
    "fields": [
      {"name": "id", "type": "string", "doc": "Pipelines identifier"},
      // search fields
      {"name": "datasetKey", "type": "string", "doc": "Pipelines identifier"},
      {"name": "eventHierarchy", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "eventTypeHierarchy", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "samplingProtocol", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "taxonKey", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "locationID", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "measurementOrFactTypes", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "stateProvince", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "countryCode", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": ""},
      {"name": "year", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/year"},
      {"name": "month", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/month"},
      // event
      {"name": "parentEventID", "type": ["null", "string"], "default" : null, "doc": "http://purl.org/dc/terms/parentEventID"},
      {"name": "eventType", "type": ["null", "string"], "default" : null, "doc": "http://rs.gbif.org/terms/1.0/eventType"},
      {"name": "created", "type": ["null", "long"], "default" : null, "doc":"The timestamp the record was created"},
      {"name": "sampleSizeValue", "type": ["null", "double"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/sampleSizeValue"},
      {"name": "sampleSizeUnit", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/sampleSizeUnit"},
      {"name": "references", "type": ["null", "string"], "default" : null, "doc": "http://purl.org/dc/terms/references"},
      {"name": "license", "type":["null","string"], "default":null, "doc": "http://purl.org/dc/terms/license"},
      {"name": "datasetID", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/datasetID"},
      {"name": "datasetName", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/datasetName"},
      // location
      {"name": "continent","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/continent"},
      {"name": "waterBody","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/waterBody"},
      {"name": "country","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/country"},
      {"name": "publishingCountry","type":["null","string"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/publishingCountry"},
      {"name": "minimumElevationInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/minimumElevationInMeters"},
      {"name": "maximumElevationInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/maximumElevationInMeters"},
      {"name": "elevation","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/elevation"},
      {"name": "elevationAccuracy","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/elevationAccuracy"},
      {"name": "minimumDepthInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/minimumDepthInMeters"},
      {"name": "maximumDepthInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/maximumDepthInMeters"},
      {"name": "depth","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/depth"},
      {"name": "depthAccuracy","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/depthAccuracy"},
      {"name": "minimumDistanceAboveSurfaceInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/minimumDistanceAboveSurfaceInMeters"},
      {"name": "maximumDistanceAboveSurfaceInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/maximumDistanceAboveSurfaceInMeters"},
      {"name": "decimalLatitude","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/decimalLatitude"},
      {"name": "decimalLongitude","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/decimalLongitude"},
      {"name": "coordinateUncertaintyInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters"},
      {"name": "coordinatePrecision","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/coordinatePrecision"},
      {"name": "locality","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/locality"},
      {"name": "georeferencedDate", "type": ["null", "string"], "logicalType":"timestamp-millis", "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/dateIdentified"},
      {"name": "footprintWKT","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/footprintWKT"},
      {"name": "biome","type":["null","string"],"default":null },
      // temporal
      {"name": "day", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/day"},
      {"name": "eventDate", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/eventDate"},
      {"name": "startDayOfYear", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/startDayOfYear"},
      {"name": "endDayOfYear", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/endDayOfYear"},
      {"name": "dateIdentified", "type": ["null", "string"], "logicalType":"timestamp-millis", "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/dateIdentified"},
      {"name": "datePrecision", "type": ["null", "string"], "default" : null},
      // combined issues
      {"name": "issues", "type": {"type" : "array", "items" : "string"}, "default" : []}
    ]
  },
  {
    "name": "OccurrenceSearchRecord",
    "namespace": "org.gbif.pipelines.io.avro",
    "type": "record",
    "doc": "An AVRO export used to support Spark SQL exports",
    "fields": [
      {"name": "id", "type": "string", "doc": "Pipelines identifier"},
      {"name": "coreId", "type": ["null", "string"], "doc": "Pipelines identifier"},
      {"name": "occurrenceID", "type": "string", "doc": "Pipelines identifier"},
      {"name": "datasetKey", "type": "string", "doc": "Pipelines identifier"},
      // metadata fields
      {"name": "dataResourceName", "type": ["null", "string"], "doc": "Pipelines identifier"},
      {"name": "dataProviderName", "type": ["null", "string"], "doc": "Pipelines identifier"},
      {"name": "collectionName", "type": ["null", "string"], "doc": "Pipelines identifier"},
      {"name": "institutionName", "type": ["null", "string"], "doc": "Pipelines identifier"},
      // basic
      {"name": "basisOfRecord", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/basisOfRecord"},
      {"name": "sex", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/sex"},
      {"name": "lifeStage", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/lifeStage"},
      {"name": "establishmentMeans", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/establishmentMeans"},
      {"name": "degreeOfEstablishment", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/degreeOfEstablishment"},
      {"name": "pathway", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/pathway"},
      {"name": "individualCount", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/individualCount"},
      {"name": "typeStatus", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/typeStatus"},
      {"name": "typifiedName", "type": ["null", "string"], "default" : null, "doc": "https://gbif.github.io/dwc-api/apidocs/org/gbif/dwc/terms/GbifTerm.html#typifiedName"},
      {"name": "sampleSizeValue", "type": ["null", "double"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/sampleSizeValue"},
      {"name": "sampleSizeUnit", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/sampleSizeUnit"},
      {"name": "organismQuantity", "type": ["null", "double"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/organismQuantity"},
      {"name": "organismQuantityType", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/organismQuantityType"},
      {"name": "relativeOrganismQuantity", "type": ["null", "double"], "default" : null},
      {"name": "references", "type": ["null", "string"], "default" : null, "doc": "http://purl.org/dc/terms/references"},
      {"name": "license", "type":["null","string"], "default":null, "doc": "http://purl.org/dc/terms/license"},
      {"name": "identifiedByIds", "type": {"type" : "array", "items" : "org.gbif.pipelines.io.avro.AgentIdentifier"}, "default" : []},
      {"name": "identifiedBy", "type": {"type" : "array", "items" : "string"}, "default" : []},
      {"name": "recordedByIds", "type": {"type" : "array", "items" : "org.gbif.pipelines.io.avro.AgentIdentifier"}, "default" : []},
      {"name": "recordedBy", "type": {"type" : "array", "items" : "string"}, "default" : []},
      {"name": "occurrenceStatus", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/occurrenceStatus"},
      {"name": "datasetID", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/datasetID"},
      {"name": "datasetName", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/datasetName"},
      {"name": "otherCatalogNumbers", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/otherCatalogNumbers"},
      {"name": "preparations", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/preparations"},
      {"name": "samplingProtocol", "type": {"type" : "array", "items" : "string"}, "default" : [], "doc": "http://rs.tdwg.org/dwc/terms/samplingProtocol"},
      // taxon
      {"name": "scientificName", "type": ["null", "string"], "default" : null },
      {"name": "scientificNameAuthorship", "type": ["null", "string"], "default" : null },
      {"name": "taxonConceptID", "type": ["null", "string"], "default" : null },
      {"name": "taxonRank", "type": ["null", "string"], "default" : null },
      {"name": "taxonRankID", "type": ["null", "int"], "default" : null },
      {"name": "lft", "type": ["null", "int"], "default" : null },
      {"name": "rgt", "type": ["null", "int"], "default" : null },
      {"name": "matchType", "type": ["null", "string"], "default" : null },
      {"name": "nameType", "type": ["null", "string"], "default" : null },
      {"name": "kingdom", "type": ["null", "string"], "default" : null },
      {"name": "kingdomID", "type": ["null", "string"], "default" : null },
      {"name": "phylum", "type": ["null", "string"], "default" : null },
      {"name": "phylumID", "type": ["null", "string"], "default" : null },
      {"name": "classs", "type": ["null", "string"], "default" : null },
      {"name": "classID", "type": ["null", "string"], "default" : null },
      {"name": "order", "type": ["null", "string"], "default" : null },
      {"name": "orderID", "type": ["null", "string"], "default" : null },
      {"name": "family", "type": ["null", "string"], "default" : null },
      {"name": "familyID", "type": ["null", "string"], "default" : null },
      {"name": "genus", "type": ["null", "string"], "default" : null },
      {"name": "genusID", "type": ["null", "string"], "default" : null },
      {"name": "species", "type": ["null", "string"], "default" : null },
      {"name": "speciesID", "type": ["null", "string"], "default" : null },
      {"name": "vernacularName", "type": ["null", "string"], "default" : null },
      {"name": "speciesGroup", "type": {"type": "array", "items": "string"}, "default" : [] },
      {"name": "speciesSubgroup", "type": {"type": "array", "items": "string"}, "default" : [] },
      // event
      {"name": "parentEventID", "type": ["null", "string"], "default" : null, "doc": "http://purl.org/dc/terms/parentEventID"},
      // location
      {"name": "continent","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/continent"},
      {"name": "waterBody","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/waterBody"},
      {"name": "country","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/country"},
      {"name": "minimumElevationInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/minimumElevationInMeters"},
      {"name": "maximumElevationInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/maximumElevationInMeters"},
      {"name": "elevation","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/elevation"},
      {"name": "elevationAccuracy","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/elevationAccuracy"},
      {"name": "minimumDepthInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/minimumDepthInMeters"},
      {"name": "maximumDepthInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/maximumDepthInMeters"},
      {"name": "depth","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/depth"},
      {"name": "depthAccuracy","type":["null","double"],"default":null, "doc":"http://rs.gbif.org/terms/1.0/depthAccuracy"},
      {"name": "minimumDistanceAboveSurfaceInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/minimumDistanceAboveSurfaceInMeters"},
      {"name": "maximumDistanceAboveSurfaceInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/maximumDistanceAboveSurfaceInMeters"},
      {"name": "decimalLatitude","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/decimalLatitude"},
      {"name": "decimalLongitude","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/decimalLongitude"},
      {"name": "coordinateUncertaintyInMeters","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters"},
      {"name": "coordinatePrecision","type":["null","double"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/coordinatePrecision"},
      {"name": "locality","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/locality"},
      {"name": "georeferencedDate", "type": ["null", "string"], "logicalType":"timestamp-millis", "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/dateIdentified"},
      {"name": "footprintWKT","type":["null","string"],"default":null, "doc":"http://rs.tdwg.org/dwc/terms/footprintWKT"},
      {"name": "biome","type":["null","string"],"default":null },
      // temporal
      {"name": "day", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/day"},
      {"name": "eventDate", "type": ["null", "string"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/eventDate"},
      {"name": "startDayOfYear", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/startDayOfYear"},
      {"name": "endDayOfYear", "type": ["null", "int"], "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/endDayOfYear"},
      {"name": "dateIdentified", "type": ["null", "string"], "logicalType":"timestamp-millis", "default" : null, "doc": "http://rs.tdwg.org/dwc/terms/dateIdentified"},
      {"name": "datePrecision", "type": ["null", "string"], "default" : null},
      // verbatim occurrence terms
      {"name": "verbatim", "doc": "The core record terms", "default": {}, "type": {"type": "map", "values": "string"}},
      // combined issues
      {"name": "issues", "type": {"type" : "array", "items" : "string"}, "default" : []}
    ]
  }
]
